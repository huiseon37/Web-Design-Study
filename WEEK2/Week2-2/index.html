<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 2-2</title>
    <link rel="stylesheet" href="./css/default.css">
    <style>
        .text3D {
            perspective: 500px;
            -webkit-perspective: 500px; /*크롬*/
            -moz-perspective: 500px; /*파이어폭스*/
            -o-perspective: 500px; /*오페라*/
        }

        .text3D>img {
            position: absolute;
            width: 100vw;
            z-index: 3;
            margin-top:20%;
            height: 70vh;
        }
    </style>
</head>

<body>
    <section>
        <section class="bg">
            <img src="./Img/bg.png" alt="">
            <img src="./Img/star.png" alt="">
            <img src="./Img/bottom.png" alt="">

            <div class="text3D">
                <img src="./Img/text.png" alt="">
            </div>
            
        </section>
        <section class="object">
            <img src="./Img/tree1.png" alt="">
            <img src="./Img/tree2.png" alt="">
            <img src="./Img/moon.png" alt="">
            <img src="./Img/sled.png" alt="">
        </section>
    </section>

    <script>
        let x = 0;
        let mx = 0;
        let speed = 0.001;
        let imgArr;
        let text;

        window.onload = function () {
            imgArr = document.querySelectorAll('.object > img');
            text = document.querySelector('.text3D img');
            window.addEventListener("mousemove", (e) => {
                x = (e.clientX - window.innerWidth / 2);
            }, false);
            loop();
        }

        function loop() {
            mx += (x - mx) * speed;
            imgArr[0].style.transform = "translate(" + -(mx/3) + "px)"; //나무1개 가장 가까이 있어서 빨리 움직임
            imgArr[1].style.transform = "translate(" + -(mx/5) + "px)"; //나무4개
            imgArr[2].style.transform = "translate(" + -(mx/10) + "px)"; //달
            imgArr[3].style.transform = "translate(" + -(mx/20) + "px)"; //썰매 가장 멀리 있어서 천천히 움직임

            text.style.transform = "rotate3D(0, 1, 0," + (mx / 20) + "deg)"; //크롬 이외의 브라우저
            text.style.webkitTransform = "rotate3D(0, 1, 0," + (mx / 20) + "deg)"; //크롬
            window.requestAnimationFrame(loop);
        }
    </script>
</body>

</html>